<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EcoLearn - Hackathon Ready</title>
<style>
body { font-family:'Arial',sans-serif; margin:0; padding:0; background:#f2f7f7; line-height:1.6; transition:0.5s; }
body.dark { background:#121212; color:#f2f7f7; }
header { background:#00796b; color:white; padding:15px 20px; text-align:center; }
nav { background:#004d40; padding:10px 0; text-align:center; }
nav a { color:white; text-decoration:none; margin:0 15px; font-weight:bold; cursor:pointer; }
nav a:hover { color:#b2dfdb; }
.container { width:80%; max-width:1000px; margin:20px auto; padding:20px; background:white; border-radius:10px; box-shadow:0 3px 10px rgba(0,0,0,0.1); transition:0.5s; }
body.dark .container { background:#1e1e1e; color:white; box-shadow:0 3px 10px rgba(0,0,0,0.5); }
button { background:#00796b; color:white; border:none; border-radius:5px; padding:10px 20px; margin:10px 0; cursor:pointer; font-size:16px; transition:0.3s; }
button:hover { background:#004d40; }
.card { border:1px solid #ccc; border-radius:10px; padding:15px; margin-bottom:20px; background:#e0f2f1; transition:0.5s; }
body.dark .card { background:#2c2c2c; border-color:#444; }
h2,h3 { margin:10px 0; }
p { margin:5px 0 15px 0; }
.profile { text-align:center; }
.profile h2 { margin-bottom:10px; }
footer { text-align:center; padding:10px; background:#00796b; color:white; margin-top:20px; }
@media screen and (max-width:768px){.container{width:95%;padding:15px;} nav a{display:block;margin:10px 0;}}
.hidden { display:none; }
.progress-bar { background:#ccc; border-radius:5px; overflow:hidden; height:25px; margin:10px 0; text-align:center; font-weight:bold; color:white; line-height:25px; }
.progress { background:#00796b; height:100%; width:0%; transition:0.5s; }
textarea { width:100%; padding:5px; margin-top:5px; border-radius:5px; border:1px solid #ccc; resize:none; }
.badge-popup { position:fixed; top:20px; right:20px; background:#ffd700; color:#000; padding:10px 20px; border-radius:10px; display:none; box-shadow:0 0 10px rgba(0,0,0,0.5); z-index:1000; font-weight:bold; }
.correct { background-color:#4CAF50 !important; }
.wrong { background-color:#f44336 !important; }
</style>
</head>
<body>

<div class="badge-popup" id="badgePopup">Badge Earned!</div>

<header>
<h1>EcoLearn</h1>
<nav>
<a onclick="showPage('home')">Home</a>
<a onclick="showPage('challenges')">Challenges</a>
<a onclick="showPage('quiz')">Quiz</a>
<a onclick="showPage('tips')">Tips & Resources</a>
<a onclick="showPage('profile')">Profile</a>
<a onclick="toggleDarkMode()">Toggle Dark Mode</a>
</nav>
</header>

<main>
<section id="home" class="container">
<h2>Welcome to EcoLearn</h2>
<p>Learn about the environment through challenges and quizzes. Earn points, badges, and track your progress!</p>
<button onclick="showPage('challenges')">Start Challenges</button>
</section>

<section id="challenges" class="container hidden">
<h2>Environmental Challenges</h2>
<div class="progress-bar"><div id="challengeProgress" class="progress">0/25</div></div>
<div id="challengeList"></div>
</section>

<section id="quiz" class="container hidden">
<h2>Environmental Quiz</h2>
<div class="progress-bar"><div id="quizProgress" class="progress">0/25</div></div>
<div id="quizList"></div>
</section>

<section id="tips" class="container hidden">
<h2>Tips & Resources</h2>
<div class="card"><h3>Tip 1: Reduce Water Usage</h3><p>Turn off taps when not in use and collect rainwater.</p></div>
<div class="card"><h3>Tip 2: Save Energy</h3><p>Use energy-efficient appliances and switch off unused devices.</p></div>
<div class="card"><h3>Tip 3: Reduce Plastic</h3><p>Use reusable bags, bottles, and containers instead of single-use plastics.</p></div>
<div class="card"><h3>Tip 4: Plant Trees</h3><p>Plant trees in your area and maintain a small garden if possible.</p></div>
<div class="card"><h3>Tip 5: Recycle</h3><p>Segregate waste at home and recycle materials whenever possible.</p></div>
</section>

<section id="profile" class="container profile hidden">
<h2>Your Profile</h2>
<p>Total Points: <span id="points">0</span></p>
<p>Challenges Completed: <span id="completedChallenges">0</span>/25</p>
<p>Quizzes Completed: <span id="completedQuizzes">0</span>/25</p>
<p>Badges Earned:</p>
<ul id="badges"></ul>
<p>Your Reflections:</p>
<ul id="reflections"></ul>
<button onclick="downloadReport()">Download PDF Report</button>
</section>

</main>

<footer>
<p>&copy; 2025 EcoLearn</p>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
// ===== Data =====
let totalPoints=0;
let challenges=Array(25).fill(0);
let reflections=Array(25).fill('');
let userAnswers=Array(25).fill(null);

const challengeTasks=[
"Plant a tree in your area.",
"Segregate household waste for a day.",
"Use a reusable water bottle for a week.",
"Turn off unused electrical devices for a day.",
"Collect plastic waste from your surroundings.",
"Use public transport for a day.",
"Conduct a small energy audit at home.",
"Organize a mini-cleanup drive nearby.",
"Reduce water usage while bathing.",
"Compost your kitchen waste for a week.",
"Draw a poster promoting environmental awareness.",
"Switch off lights when not in use for 3 days.",
"Walk or cycle instead of using a vehicle.",
"Replace plastic bags with cloth bags for shopping.",
"Share eco-friendly tips on social media.",
"Reduce paper usage at home/school for a week.",
"Measure your carbon footprint and try reducing it.",
"Participate in a tree plantation drive.",
"Donate old books instead of throwing them.",
"Install a water-saving device if possible.",
"Monitor air pollution levels in your city.",
"Avoid using single-use plastics for a week.",
"Organize an environmental awareness session.",
"Create a small home herb garden.",
"Educate a friend or family member about recycling."
];

const quizQuestions=[
{q:"Which gas is primarily responsible for global warming?",options:["CO2","O2","N2","H2"],answer:"CO2"},
{q:"What is the most common renewable energy source?",options:["Solar","Coal","Oil","Natural Gas"],answer:"Solar"},
{q:"Which of these is a biodegradable material?",options:["Plastic","Glass","Paper","Styrofoam"],answer:"Paper"},
{q:"What is the process of converting waste into reusable material?",options:["Recycling","Landfilling","Incineration","Dumping"],answer:"Recycling"},
{q:"Which practice helps conserve water?",options:["Fixing leaks","Washing cars daily","Leaving taps running","Overwatering plants"],answer:"Fixing leaks"},
{q:"Which gas depletes the ozone layer?",options:["CFCs","CO2","O2","N2"],answer:"CFCs"},
{q:"Planting trees helps in:",options:["Reducing CO2","Increasing CO2","Producing CFCs","None"],answer:"Reducing CO2"},
{q:"Which type of energy produces the least pollution?",options:["Hydropower","Coal","Diesel","Gasoline"],answer:"Hydropower"},
{q:"Which is a non-renewable resource?",options:["Wind","Solar","Coal","Hydropower"],answer:"Coal"},
{q:"Segregating waste helps in:",options:["Recycling","Increasing pollution","Deforestation","None"],answer:"Recycling"},
{q:"Which of the following contributes most to plastic pollution?",options:["Single-use plastics","Glass bottles","Metal cans","Paper bags"],answer:"Single-use plastics"},
{q:"Sustainable development means:",options:["Meeting current needs without harming future generations","Using all resources freely","Exploiting nature","None"],answer:"Meeting current needs without harming future generations"},
{q:"Which is an effect of deforestation?",options:["Loss of biodiversity","More rainfall","Cooling climate","Less soil erosion"],answer:"Loss of biodiversity"},
{q:"Composting helps in:",options:["Reducing organic waste","Increasing plastic waste","Producing CO2","None"],answer:"Reducing organic waste"},
{q:"Which is the largest source of greenhouse gases?",options:["Electricity & Heat","Solar panels","Wind turbines","Hydropower"],answer:"Electricity & Heat"},
{q:"Which practice reduces carbon footprint?",options:["Cycling","Driving alone","Using air conditioners excessively","Using coal"],answer:"Cycling"},
{q:"What is the main cause of ocean pollution?",options:["Plastic waste","Tree planting","Solar panels","Wind energy"],answer:"Plastic waste"},
{q:"Which of the following saves energy at home?",options:["Switching off unused lights","Leaving appliances on","Using old bulbs","Overheating water"],answer:"Switching off unused lights"},
{q:"Which type of agriculture is more sustainable?",options:["Organic farming","Chemical-intensive farming","Slash-and-burn","None"],answer:"Organic farming"},
{q:"Which energy source does not produce CO2 emissions?",options:["Wind","Coal","Natural gas","Diesel"],answer:"Wind"},
{q:"Eco-friendly transport options include:",options:["Walking & cycling","Private cars","Motorcycles","Diesel trucks"],answer:"Walking & cycling"},
{q:"Which material is best for reducing plastic waste?",options:["Cloth bags","Plastic bags","Styrofoam","PVC"],answer:"Cloth bags"},
{q:"Which practice helps conserve biodiversity?",options:["Protecting forests","Cutting trees","Overfishing","Destroying wetlands"],answer:"Protecting forests"},
{q:"Which energy source uses the sun directly?",options:["Solar panels","Coal","Natural Gas","Oil"],answer:"Solar panels"},
{q:"Which habit helps reduce water wastage?",options:["Shorter showers","Leaving taps running","Washing cars daily","Overwatering plants"],answer:"Shorter showers"}
];

// Badges
const badges=[
{name:"Eco Novice",points:10},
{name:"Eco Warrior",points:50},
{name:"Eco Hero",points:100}
];

// ===== Functions =====
function showPage(id){document.querySelectorAll('main section').forEach(s=>s.classList.add('hidden')); document.getElementById(id).classList.remove('hidden');}
function toggleDarkMode(){document.body.classList.toggle('dark');}

function updateProgress(){
  const completedCh=challenges.filter(c=>c===1).length;
  document.getElementById('completedChallenges').textContent=completedCh;
  document.getElementById('challengeProgress').style.width=(completedCh/25*100)+'%';
  document.getElementById('challengeProgress').textContent=`${completedCh}/25`;

  const completedQ=userAnswers.filter(a=>a!==null).length;
  document.getElementById('completedQuizzes').textContent=completedQ;
  document.getElementById('quizProgress').style.width=(completedQ/25*100)+'%';
  document.getElementById('quizProgress').textContent=`${completedQ}/25`;

  document.getElementById('points').textContent=totalPoints;
}

function checkBadges(){
  const ul=document.getElementById('badges');
  ul.innerHTML='';
  badges.forEach(b=>{
    if(totalPoints>=b.points){
      const li=document.createElement('li'); li.textContent=b.name; ul.appendChild(li);
      showBadgePopup(b.name);
    }
  });
}

function showBadgePopup(name){
  const popup=document.getElementById('badgePopup');
  popup.textContent=`Badge Earned: ${name}!`;
  popup.style.display='block';
  setTimeout(()=>popup.style.display='none',2000);
}

// Initialize Challenges
const challengeList=document.getElementById('challengeList');
challengeTasks.forEach((task,i)=>{
  const div=document.createElement('div'); div.className='card';
  div.innerHTML=`<p>Challenge ${i+1}: ${task}</p><button onclick="completeChallenge(${i+1})">Mark as Complete & Reflect</button>`;
  challengeList.appendChild(div);
});

function completeChallenge(i){
  if(!challenges[i-1]){ challenges[i-1]=1; totalPoints+=5;
    const reflection=prompt(`Reflect on Challenge ${i}: What did you do?`);
    reflections[i-1]=reflection;
    updateProgress(); checkBadges();
  }
}

// Initialize Quiz
const quizList=document.getElementById('quizList');
quizQuestions.forEach((q,i)=>{
  const div=document.createElement('div'); div.className='card';
  const optionsHTML=q.options.map(o=>`<button onclick="answerQuestion(${i+1},'${o}', this)">${o}</button>`).join(' ');
  div.innerHTML=`<p>Q${i+1}: ${q.q}</p>${optionsHTML}`;
  quizList.appendChild(div);
});

function answerQuestion(i, option, btn){
  if(!userAnswers[i-1]){
    userAnswers[i-1]=option;
    const correct=quizQuestions[i-1].answer;
    const buttons=btn.parentElement.querySelectorAll('button');
    buttons.forEach(b=>{
      b.disabled=true;
      if(b.textContent===correct){ b.classList.add('correct'); } 
      else if(b===btn){ b.classList.add('wrong'); }
    });
    if(option===correct){ totalPoints+=5; updateProgress(); checkBadges(); }
    else{ updateProgress(); }
  }
}

// PDF Report
function downloadReport(){
  const { jsPDF }=window.jspdf;
  const doc=new jsPDF();
  doc.setFontSize(16); doc.text('EcoLearn Report',10,10);
  doc.setFontSize(12); doc.text(`Total Points: ${totalPoints}`,10,20);
  doc.text(`Challenges Completed: ${challenges.filter(c=>c===1).length}/25`,10,30);
  doc.text(`Quizzes Completed: ${userAnswers.filter(a=>a!==null).length}/25`,10,40);
  doc.text('Badges:',10,50);
  badges.forEach((b,i)=>{ if(totalPoints>=b.points){ doc.text(`- ${b.name}`,10,60+10*i); } });
  doc.text('Reflections:',10,60+10*badges.length);
  reflections.forEach((r,i)=>{ if(r){ doc.text(`Challenge ${i+1}: ${r}`,10,70+10*(i+badges.length)); } });
  doc.save('EcoLearn_Report.pdf');
}

updateProgress();
checkBadges();
</script>

</body>
</html>
